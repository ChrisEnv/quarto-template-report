% load the title page

\RequirePackage[absolute,overlay]{textpos}
\setlength{\TPHorizModule}{1cm}
\setlength{\TPVertModule}{1cm}

% define a function to place a figure at a specific position
\def\placefig#1#2#3#4#5{
  \begin{textblock}{#3}(#1,#2)
    \rlap{\includegraphics[#4]{#5}}
  \end{textblock}}

% Title and date
$if(title)$
\title{$title$}
$endif$
$if(subtitle)$
\subtitle{$subtitle$}
$endif$
\date{$date$}

% Title page
\makeatletter
\def\cover{{\sffamily\setcounter{page}{0}

        \thispagestyle{empty}
        
        % Place company logo at the top right
        \placefig{14}{1.5}{5}{height=20cm,keepaspectratio}{$companylogo$}
        
        \vspace*{4.5cm}
        
        % Place the title
        \begin{textblock}{14}(3,8.5) % Position und Breite nach Bedarf Ã¤ndern
          \noindent
          \textsf{\textbf{\color[HTML]{0874bc}\fontsize{20pt}{28pt}\selectfont\expandafter{$title$}}}
        \end{textblock}

        % Place the subtitle
        \vspace*{3cm}

        \begin{center}
          \textsf{\color[HTML]{0874bc}\fontsize{16pt}{22pt}\selectfont\expandafter{$subtitle$}}
          \vspace*{4.5cm}
        \end{center}
        
        
        % Place the author, date, revision number and document number
        \begin{textblock}{4}(0,8) % 
          \begingroup
          \color[HTML]{c36cc0}
          \rule{2cm}{1cm}
          \endgroup
        \end{textblock}
        
        % placement of colored bar
        \begin{textblock}{24}(0,25)
          \begingroup
          \color[HTML]{0874bc}
          \rule{24cm}{5cm}
          \endgroup
        \end{textblock}
        
        \begin{textblock}{14}(3,26) % adjust position as needed
          \noindent
          \textsf{\color[HTML]{ffffff}\fontsize{12pt}{28pt}\selectfont\expandafter{$author$}}\par
          \textsf{\color[HTML]{ffffff}\fontsize{12pt}{28pt}\selectfont\expandafter{$date$}}\par
          \textsf{\color[HTML]{ffffff}\fontsize{12pt}{28pt}\selectfont\expandafter{$if(revnum)$Rev. $revnum$ $endif$}}\par
          % add docnum
          \textsf{\color[HTML]{ffffff}\fontsize{12pt}{28pt}\selectfont\expandafter{$if(docnum)$$docnum$ $endif$}}
        \end{textblock}
        }
        }
         
 \def\titlepage{{\cover\newpage}}
 
 % defines maketitle function which is called in before-body.tex to implement the title page
 \let\maketitle\titlepage

\makeatother